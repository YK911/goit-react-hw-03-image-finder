{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/loader/Loader.module.css","components/button/Button.module.css","components/searchbar/Searchbar.module.css","App.module.css","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/button/Button.js","components/modal/Modal.js","components/errorNotification/ErrorNotification.js","services/image-api.js","App.js","index.js"],"names":["module","exports","Searchbar","onHandleSubmit","className","css","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","data","onOpenModal","url","webformatURL","onClick","ImageGalleryItemImage","id","src","alt","ImageGallery","items","map","item","key","App","pending","color","height","width","Component","Button","onLoadMore","button","Modal","largeImg","onCloseModal","Overlay","name","ErrorNotification","message","fetchImages","query","a","currentPage","axios","get","process","console","error","Error","state","isLoading","isModalOpen","handleSubmit","event","preventDefault","target","elements","value","setState","loadMore","prevState","openModal","forEach","targetId","parseInt","currentId","largeImageURL","window","onkeydown","closeModal","dir","code","nodeName","this","hits","log","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","load","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.23829538.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Gwkb\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__6AI0_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1f2d1\",\"Modal\":\"Modal_Modal__2THdf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Rbcd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pending\":\"Loader_pending__3gVoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3oFUe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2gofS\",\"SearchForm\":\"Searchbar_SearchForm__4gFnW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__gCtrK\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2bEhW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3tCfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2XlYq\"};","import React from \"react\";\r\nimport css from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onHandleSubmit }) => {\r\n  return (\r\n    <>\r\n      <header className={css.Searchbar}>\r\n        <form className={css.SearchForm} onSubmit={onHandleSubmit}>\r\n          <button type=\"submit\" className={css.SearchFormButton}>\r\n            <span className={css.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={css.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport css from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ data, onOpenModal }) => {\r\n  // console.log(\"=======\", data);\r\n  const url = data.webformatURL;\r\n\r\n  return (\r\n    <li className={css.ImageGalleryItem} onClick={onOpenModal}>\r\n      <img\r\n        className={css.ImageGalleryItemImage}\r\n        id={data.id}\r\n        src={url}\r\n        alt=\"wallpaper\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\n\r\nimport css from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ items, onOpenModal }) => (\r\n  <ul className={css.ImageGallery}>\r\n    {items.map(item => {\r\n      return (\r\n        <ImageGalleryItem data={item} key={item.id} onOpenModal={onOpenModal} />\r\n      );\r\n    })}\r\n  </ul>\r\n);\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport css from \"./Loader.module.css\";\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className={css.pending}>\r\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={60} width={60} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport css from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button onClick={onLoadMore} className={css.button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport css from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ largeImg, onCloseModal }) => {\r\n  return (\r\n    <div className={css.Overlay} onClick={onCloseModal}>\r\n      <div className={css.Modal}>\r\n        <img src={largeImg} alt=\"wallpaper\" name=\"overlay\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nconst ErrorNotification = ({ message }) => (\r\n  <>\r\n    <p>Whoops, something went wrong: {message}</p>\r\n  </>\r\n);\r\n\r\nexport default ErrorNotification;\r\n","import axios from \"axios\";\r\n\r\n/* eslint-disable-next-line */\r\n\r\nexport const fetchImages = async (query, currentPage = 1) => {\r\n  try {\r\n    return await axios.get(\r\n      `${process.env.REACT_APP_BASE_URL}?q=${query}&page=${currentPage}&key=${process.env.REACT_APP_API_KEY}&image_type=photo&orientation=horizontal&per_page=4`\r\n    );\r\n  } catch (error) {\r\n    console.error(\"FETCH ERROR: \", error);\r\n    throw new Error(error);\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/searchbar/Searchbar\";\nimport ImageGallery from \"./components/imageGallery/ImageGallery\";\nimport Loader from \"./components/loader/Loader\";\nimport Button from \"./components/button/Button\";\nimport Modal from \"./components/modal/Modal\";\nimport ErrorNotification from \"./components/errorNotification/ErrorNotification\";\nimport { fetchImages } from \"./services/image-api\";\nimport \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    data: [],\n    isLoading: false,\n    isModalOpen: false,\n    query: \"\",\n    currentPage: 1,\n    largeImg: \"\",\n    error: null\n  };\n\n  async componentDidMount() {\n    try {\n      this.setState({ isLoading: true });\n      const data = await fetchImages(this.state.query, this.state.currentPage);\n      this.setState({ data: data.data.hits, isLoading: false });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      try {\n        this.setState({ isLoading: true });\n        const data = await fetchImages(\n          this.state.query,\n          this.state.currentPage\n        );\n\n        this.setState(prevState => ({\n          data: [...prevState.data, ...data.data.hits],\n          isLoading: false\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\"\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    } else if (this.state.query !== prevState.query) {\n      try {\n        const data = await fetchImages(\n          this.state.query,\n          this.state.currentPage\n        );\n        this.setState({\n          data: [...data.data.hits],\n          isLoading: false\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const query = event.target.elements[1].value;\n    this.setState({ query });\n  };\n\n  loadMore = () => {\n    this.setState(prevState => {\n      return {\n        isLoading: true,\n        currentPage: prevState.currentPage + 1\n      };\n    });\n  };\n\n  openModal = event => {\n    this.setState({\n      isModalOpen: true\n    });\n\n    this.state.data.forEach(item => {\n      const targetId = parseInt(event.target.id, 10);\n      const currentId = item.id;\n      const largeImg = item.largeImageURL;\n\n      if (targetId === currentId) {\n        this.setState({ largeImg });\n      }\n    });\n    window.onkeydown = this.closeModal;\n  };\n\n  closeModal = event => {\nconsole.dir(event.target)\n      if (event.code  && event.code !== \"Escape\") {\n        return\n      }\n      \n      if (event.target.nodeName !== \"IMG\"){\n        this.setState({\n          isModalOpen: false\n        });\n      }\n      window.onkeydown = null;\n    \n  };\n\n  render() {\n    const { data, isLoading, isModalOpen, largeImg, error } = this.state;\n    return (\n      <>\n        <Searchbar onHandleSubmit={this.handleSubmit} />\n        {error && <ErrorNotification message={error.message} />}\n        {data.length > 0 && (\n          <>\n            <ImageGallery\n              items={data}\n              load={isLoading}\n              onOpenModal={this.openModal}\n            />\n            {isLoading ? <Loader /> : <Button onLoadMore={this.loadMore} />}\n          </>\n        )}\n        {isModalOpen && (\n          <Modal\n            data={data}\n            largeImg={largeImg}\n            onCloseModal={this.closeModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}